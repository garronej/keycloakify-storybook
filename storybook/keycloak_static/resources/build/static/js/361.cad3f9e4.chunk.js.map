{"version":3,"file":"static/js/361.cad3f9e4.chunk.js","mappings":"oXAaMA,GAAQC,EAAAA,EAAAA,OAAK,kBAAK,4BAAL,IAIbC,GAAgB,kBACfC,EAAAA,IADe,IAIlB,YAAc,GAAd,eAAmBA,EAAAA,GAAAA,aAAnB,CAA+C,kBAE/C,qBAAwB,qBAGb,SAASC,EAAIC,GAExB,IAAQC,EAAcD,EAAdC,UAEFC,EC1BH,SAAiBF,GACpB,IAAQC,EAAcD,EAAdC,UACR,OAAOE,EAAAA,EAAAA,IAAY,CACfF,UAAAA,EAKA,cAAiB,CACb,GAAM,CACF,wBAA2B,iCAC3B,OAAU,SAGV,iBAAoB,wBAExB,GAAM,CAEF,wBAA2B,4CAC3B,OAAU,QACV,iBAAoB,qCAKnC,CDCgBG,CAAQ,CAAEH,UAAAA,IAuBvB,IArBAI,EAAAA,EAAAA,kBAAiB,CACb,UAAaJ,EACb,qBAAuB,WAAvB,8BAAwB,iGAAQK,EAAR,EAAQA,qBAEtBC,EAEO,OADDD,EAEOE,EAEAC,GAKNC,SAAS,MAZF,yCAYgBH,GAZhB,uBAcGI,MAAMJ,GAdT,cAcdK,EAdc,yBAebA,EAASC,QAfI,2CAAxB,mDAAuB,KAmBd,OAATX,EAEA,OAAO,KASX,IAAMY,GAAyD,QAC3DZ,KAAAA,EAGAa,SAAAA,EAAAA,EAEAC,8BAA8B,GAC3BnB,GAGP,OACI,SAAC,EAAAoB,SAAD,UAGiB,cADDhB,EAAUiB,QACW,SAACvB,GAAD,mBAAaM,UAAAA,GAAca,MACpC,SAAC,MAAD,mBAAgBb,UAAAA,GAAca,MAMjE,C,qEEnFD,SAASK,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAC3CC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,UACtD,KAAKP,EAAKQ,KAAKC,MAAMT,EAAMG,EAC7B,CAEA,OAAOH,CACT,CAEe,SAASU,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,CAAC,EACpDA,EAAI,EAAIf,EAAQI,OAAOc,IAAS,GAAIC,SAAQ,SAAUC,IACpD,OAAeN,EAAQM,EAAKF,EAAOE,GACrC,IAAKhB,OAAOiB,0BAA4BjB,OAAOkB,iBAAiBR,EAAQV,OAAOiB,0BAA0BH,IAAWlB,EAAQI,OAAOc,IAASC,SAAQ,SAAUC,GAC5JhB,OAAOmB,eAAeT,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,GAC7E,GACF,CAEA,OAAON,CACT,C","sources":["keycloak-theme/KcApp.tsx","keycloak-theme/i18n.ts","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import { lazy, Suspense } from \"react\";\nimport type { KcContext } from \"./kcContext\";\nimport { useI18n } from \"./i18n\";\nimport Fallback, { defaultKcProps, type KcProps, type PageProps } from \"keycloakify\";\nimport {useDownloadTerms} from \"keycloakify/lib/pages/Terms\";\nimport Template from \"keycloakify/lib/Template\";\nimport tos_en_url from \"./assets/tos_en.md\";\nimport tos_fr_url from \"./assets/tos_fr.md\";\n\n// You can uncomment this to see the values passed by the main app before redirecting.  \n//import { foo, bar } from \"./valuesTransferredOverUrl\";\n//console.log(`Values passed by the main app in the URL parameter:`, { foo, bar });\n\nconst Empty = lazy(()=> import(\"./pages/Empty\"));\n\n// This is like editing the theme.properties \n// https://github.com/keycloak/keycloak/blob/11.0.3/themes/src/main/resources/theme/keycloak/login/theme.properties\nconst kcProps: KcProps = {\n    ...defaultKcProps,\n    // NOTE: The classes are defined in ./KcApp.css\n    // You can add your classes alongside thoses that are present in the default Keycloak theme...\n    \"kcHtmlClass\": [...defaultKcProps.kcHtmlClass, \"my-root-class\"],\n    // ...or overwrite  \n    \"kcHeaderWrapperClass\": \"my-color my-font\"\n};\n\nexport default function App(props: { kcContext: KcContext; }) {\n\n    const { kcContext } = props;\n\n    const i18n = useI18n({ kcContext });\n\n    useDownloadTerms({\n        \"kcContext\": kcContext as any,\n        \"downloadTermMarkdown\": async ({currentLanguageTag}) => {\n\n            const resource = (() => {\n                switch (currentLanguageTag) {\n                    case \"fr\":\n                        return tos_fr_url;\n                    default:\n                        return tos_en_url;\n                }\n            })();\n\n            // webpack5 (used via storybook) loads markdown as string, not url\n            if (resource.includes(\"\\n\")) return resource\n\n            const response = await fetch(resource);\n            return response.text();\n        },\n    });\n\n    if (i18n === null) {\n        //NOTE: Locales not yet downloaded, we could as well display a loading progress but it's usually a matter of milliseconds.\n        return null;\n    }\n    \n    /* \n    * Examples assuming i18n.currentLanguageTag === \"en\":\n    * i18n.msg(\"access-denied\") === <span>Access denied</span>\n    * i18n.msg(\"foo\") === <span>foo in English</span>\n    */\n\n    const pageProps: Omit<PageProps<any, typeof i18n>, \"kcContext\"> = {\n        i18n,\n        // Here we have overloaded the default template, however you could use the default one with:  \n        //Template: DefaultTemplate,\n        Template,\n        // Wether or not we should download the CSS and JS resources that comes with the default Keycloak theme.  \n        doFetchDefaultThemeResources: true,\n        ...kcProps,\n    };\n\n    return (\n        <Suspense>\n            {(() => {\n                switch (kcContext.pageId) {\n                    case \"empty.ftl\": return <Empty {...{ kcContext, ...pageProps }} />;\n                    default: return <Fallback {...{ kcContext, ...pageProps }} />;\n                }\n            })()}\n        </Suspense>\n    );\n\n}\n","import { useI18n as useI18nBase } from \"keycloakify\";\n\ntype Props = Omit<Parameters<typeof useI18nBase>[0], \"extraMessages\">;\n\nexport function useI18n(props: Props) {\n    const { kcContext } = props;\n    return useI18nBase({\n        kcContext,\n        // NOTE: Here you can override the default i18n messages\n        // or define new ones that, for example, you would have\n        // defined in the Keycloak admin UI for UserProfile\n        // https://user-images.githubusercontent.com/6702424/182050652-522b6fe6-8ee5-49df-aca3-dba2d33f24a5.png\n        \"extraMessages\": {\n            \"en\": {\n                \"alphanumericalCharsOnly\": \"Only alphanumerical characters\",\n                \"gender\": \"Gender\",\n                // Here we overwrite the default english value for the message \"doForgotPassword\" \n                // that is \"Forgot Password?\" see: https://github.com/InseeFrLab/keycloakify/blob/f0ae5ea908e0aa42391af323b6d5e2fd371af851/src/lib/i18n/generated_messages/18.0.1/login/en.ts#L17\n                \"doForgotPassword\": \"I forgot my password\",\n            },\n            \"fr\": {\n                /* spell-checker: disable */\n                \"alphanumericalCharsOnly\": \"Caractère alphanumérique uniquement\",\n                \"gender\": \"Genre\",\n                \"doForgotPassword\": \"J'ai oublié mon mot de passe\"\n                /* spell-checker: enable */\n            },\n        },\n    });\n}\n\nexport type I18n = NonNullable<ReturnType<typeof useI18n>>;\n","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["Empty","lazy","kcProps","defaultKcProps","App","props","kcContext","i18n","useI18nBase","useI18n","useDownloadTerms","currentLanguageTag","resource","tos_fr_url","tos_en_url","includes","fetch","response","text","pageProps","Template","doFetchDefaultThemeResources","Suspense","pageId","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty"],"sourceRoot":""}