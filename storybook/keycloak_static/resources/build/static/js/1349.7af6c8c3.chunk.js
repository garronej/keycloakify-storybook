"use strict";(self.webpackChunkkeycloakify_starter=self.webpackChunkkeycloakify_starter||[]).push([[1349],{106:function(e,r,a){a.d(r,{M:function(){return d}});var t=a(4942),n=a(885),o=a(2982),i=a(390),s=a(7213),l=(a(7283),a(502)),u=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,m=a(6463),c=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};function d(e){var r=e.kcContext,a=e.onIsFormSubmittableValueChange,d=e.i18n,p=e.BeforeField,v=e.AfterField,g=c(e,["kcContext","onIsFormSubmittableValueChange","i18n","BeforeField","AfterField"]),f=d.advancedMsg,y=function(e){var r=e.kcContext,a=e.passwordValidators,s=void 0===a?{length:{"ignore.empty.value":!0,min:"4"}}:a,c=e.i18n,d=(0,i.useMemo)((function(){return r.passwordRequired?function(){var e=r.realm.registrationEmailAsUsername?"email":"username";return r.profile.attributes.reduce((function(r,a){return[].concat((0,o.Z)(r),(0,o.Z)(a.name!==e?[a]:[a,(0,m.id)({name:"password",displayName:(0,m.id)("${password}"),required:!0,readOnly:!1,validators:s,annotations:{},groupAnnotations:{},autocomplete:"new-password"}),(0,m.id)({name:"password-confirm",displayName:(0,m.id)("${passwordConfirm}"),required:!0,readOnly:!1,validators:{_compareToOther:{name:"password","ignore.empty.value":!0,shouldBe:"equal","error-message":(0,m.id)("${invalidPasswordConfirmMessage}")}},annotations:{},groupAnnotations:{},autocomplete:"new-password"})]))}),[])}():r.profile.attributes}),[r,s]),p=function(e){var r=e.kcContext,a=e.i18n,t=r.messagesPerField,n=r.profile.attributes,o=a.msg,s=a.msgStr,c=a.advancedMsg,d=a.advancedMsgStr,p=(0,l.O)((function(e){var r,a=e.name,l=e.fieldValueByAttributeName,p=l[a].value,v=n.find((function(e){return e.name===a})),g=v.value,f=v.validators;e:if(g===p){var y;try{y=t.existsError(a)}catch(se){break e}if(y){var b=t.get(a);return[{validatorName:void 0,errorMessageStr:b,errorMessage:i.createElement("span",{key:0},b)}]}}var h=[],E="length",k=f[E];if(void 0!==k){var M=k["ignore.empty.value"],N=void 0!==M&&M,w=k.max,F=k.min;if(!N||""!==p){if(void 0!==w&&p.length>parseInt(w)){var O=["error-invalid-length-too-long",w];h.push({errorMessage:i.createElement(i.Fragment,{key:h.length},o.apply(void 0,O)),errorMessageStr:s.apply(void 0,O),validatorName:E})}if(void 0!==F&&p.length<parseInt(F)){var C=["error-invalid-length-too-short",F];h.push({errorMessage:i.createElement(i.Fragment,{key:h.length},o.apply(void 0,C)),errorMessageStr:s.apply(void 0,C),validatorName:E})}}}var S="_compareToOther",W=f[S];if(void 0!==W){var j=W["ignore.empty.value"],V=void 0!==j&&j,x=W.name,A=W.shouldBe,B=W["error-message"];if(!V||""!==p){var P=l[x].value;if(!function(){switch(A){case"different":return P!==p;case"equal":return P===p}}()){var I=[null!==B&&void 0!==B?B:(0,m.id)(function(){switch(A){case"equal":return"shouldBeEqual";case"different":return"shouldBeDifferent"}}()),x,a,A];h.push({validatorName:S,errorMessage:i.createElement(i.Fragment,{key:h.length},c.apply(void 0,I)),errorMessageStr:d.apply(void 0,I)})}}}var q="pattern",D=f[q];if(void 0!==D){var Z=D["ignore.empty.value"],L=void 0!==Z&&Z,$=D.pattern,_=D["error-message"];if((!L||""!==p)&&!new RegExp($).test(p)){var G=[null!==_&&void 0!==_?_:(0,m.id)("shouldMatchPattern"),$];h.push({validatorName:q,errorMessage:i.createElement(i.Fragment,{key:h.length},c.apply(void 0,G)),errorMessageStr:d.apply(void 0,G)})}}if("pattern"!==(null===(r=[].concat(h).reverse()[0])||void 0===r?void 0:r.validatorName)){var R="email",z=f[R];if(void 0!==z){var H=z["ignore.empty.value"];if((!(void 0!==H&&H)||""!==p)&&!u.test(p)){var T=[(0,m.id)("invalidEmailMessage")];h.push({validatorName:R,errorMessage:i.createElement(i.Fragment,{key:h.length},o.apply(void 0,T)),errorMessageStr:s.apply(void 0,T)})}}}var U="integer",J=f[U];if(void 0!==J){var K=J["ignore.empty.value"],Q=void 0!==K&&K,X=J.max,Y=J.min;if(!Q||""!==p){var ee=parseInt(p);if(isNaN(ee)){var re=["mustBeAnInteger"];h.push({validatorName:U,errorMessage:i.createElement(i.Fragment,{key:h.length},o.apply(void 0,re)),errorMessageStr:s.apply(void 0,re)})}else if(void 0!==X&&ee>parseInt(X)){var ae=["error-number-out-of-range-too-big",X];h.push({validatorName:U,errorMessage:i.createElement(i.Fragment,{key:h.length},o.apply(void 0,ae)),errorMessageStr:s.apply(void 0,ae)})}else if(void 0!==Y&&ee<parseInt(Y)){var te=["error-number-out-of-range-too-small",Y];h.push({validatorName:U,errorMessage:i.createElement(i.Fragment,{key:h.length},o.apply(void 0,te)),errorMessageStr:s.apply(void 0,te)})}else;}}var ne="options",oe=f[ne];if(void 0!==oe&&""!==p&&!(oe.options.indexOf(p)>=0)){var ie=[(0,m.id)("notAValidOption")];h.push({validatorName:ne,errorMessage:i.createElement(i.Fragment,{key:h.length},c.apply(void 0,ie)),errorMessageStr:d.apply(void 0,ie)})}return h}));return{getErrors:p}}({kcContext:{messagesPerField:r.messagesPerField,profile:{attributes:d}},i18n:c}).getErrors,v=(0,i.useMemo)((function(){return Object.fromEntries(d.map((function(e){return{attribute:e,errors:p({name:e.name,fieldValueByAttributeName:Object.fromEntries(d.map((function(e){var r=e.name,a=e.value;return[r,{value:null!==a&&void 0!==a?a:""}]})))})}})).map((function(e){var r,a=e.attribute,t=e.errors;return[a.name,{value:null!==(r=a.value)&&void 0!==r?r:"",errors:t,doDisplayPotentialErrorMessages:0!==t.length}]})))}),[d]),g=(0,i.useReducer)((function(e,r){return Object.assign(Object.assign({},e),(0,t.Z)({},r.name,Object.assign(Object.assign({},e[r.name]),function(){switch(r.action){case"focus lost":return{doDisplayPotentialErrorMessages:!0};case"update value":return{value:r.newValue,errors:p({name:r.name,fieldValueByAttributeName:Object.assign(Object.assign({},e),(0,t.Z)({},r.name,{value:r.newValue}))})}}}())))}),v),f=(0,n.Z)(g,2),y=f[0],b=f[1];return{formValidationState:(0,i.useMemo)((function(){return{fieldStateByAttributeName:Object.fromEntries(Object.entries(y).map((function(e){var r=(0,n.Z)(e,2),a=r[0],t=r[1],o=t.value,i=t.errors;return[a,{value:o,displayableErrors:t.doDisplayPotentialErrorMessages?i:[]}]}))),isFormSubmittable:Object.entries(y).every((function(e){var r=(0,n.Z)(e,2),a=r[0],t=r[1],o=t.value;return 0===t.errors.length&&(""!==o||!d.find((function(e){return e.name===a})).required)}))}}),[y,d]),formValidationDispatch:b,attributesWithPassword:d}}({kcContext:r,i18n:d}),b=y.formValidationState,h=b.fieldStateByAttributeName,E=b.isFormSubmittable,k=y.formValidationDispatch,M=y.attributesWithPassword;(0,i.useEffect)((function(){a(E)}),[E]);var N="";return i.createElement(i.Fragment,null,M.map((function(e,r){var a,t=e.group,n=void 0===t?"":t,o=e.groupDisplayHeader,l=void 0===o?"":o,u=e.groupDisplayDescription,m=void 0===u?"":u,c=h[e.name],d=c.value,y=c.displayableErrors,b=(0,s.W)(g.kcFormGroupClass,0!==y.length&&g.kcFormGroupErrorClass);return i.createElement(i.Fragment,{key:r},n!==N&&""!==(N=n)&&i.createElement("div",{className:b},i.createElement("div",{className:(0,s.W)(g.kcContentWrapperClass)},i.createElement("label",{id:"header-".concat(n),className:(0,s.W)(g.kcFormGroupHeader)},f(l)||N)),""!==m&&i.createElement("div",{className:(0,s.W)(g.kcLabelWrapperClass)},i.createElement("label",{id:"description-".concat(n),className:"".concat((0,s.W)(g.kcLabelClass))},f(m)))),p&&i.createElement(p,{attribute:e}),i.createElement("div",{className:b},i.createElement("div",{className:(0,s.W)(g.kcLabelWrapperClass)},i.createElement("label",{htmlFor:e.name,className:(0,s.W)(g.kcLabelClass)},f(null!==(a=e.displayName)&&void 0!==a?a:"")),e.required&&i.createElement(i.Fragment,null,"*")),i.createElement("div",{className:(0,s.W)(g.kcInputWrapperClass)},function(){var r=e.validators.options;return void 0!==r?i.createElement("select",{id:e.name,name:e.name,onChange:function(r){return k({action:"update value",name:e.name,newValue:r.target.value})},onBlur:function(){return k({action:"focus lost",name:e.name})},value:d},r.options.map((function(e){return i.createElement("option",{key:e,value:e},e)}))):i.createElement("input",{type:function(){switch(e.name){case"password-confirm":case"password":return"password";default:return"text"}}(),id:e.name,name:e.name,value:d,onChange:function(r){return k({action:"update value",name:e.name,newValue:r.target.value})},onBlur:function(){return k({action:"focus lost",name:e.name})},className:(0,s.W)(g.kcInputClass),"aria-invalid":0!==y.length,disabled:e.readOnly,autoComplete:e.autocomplete})}(),0!==y.length&&function(){var r="input-error-".concat(e.name);return i.createElement(i.Fragment,null,i.createElement("style",null,"#".concat(r," > span: { display: block; }")),i.createElement("span",{id:r,className:(0,s.W)(g.kcInputErrorMessageClass),style:{position:1===y.length?"absolute":void 0},"aria-live":"polite"},y.map((function(e){return e.errorMessage}))))}())),v&&i.createElement(v,{attribute:e}))})))}}}]);
//# sourceMappingURL=1349.7af6c8c3.chunk.js.map